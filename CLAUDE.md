# Claude Code Instructions

SAMPLE FILE – MUST BE REWRITTEN FOR NEW PROJECTS
---

Это репозиторий с **best practices для Python-проектов с AI-агентами** (Claude Code, Cursor, etc.). Цель — хранить паттерны, конфигурации и правила, которые помогают эффективно кодить вместе с агентами.

## Документация

| Файл | Что внутри |
|------|------------|
| [conventions/PROJECT_GUIDE.md](./conventions/PROJECT_GUIDE.md) | Архитектура, практики, конфигурация |
| [conventions/CONVENTIONS.md](./conventions/CONVENTIONS.md) | Детальные Python-конвенции |
| [docs/status.md](./docs/status.md) | Текущий статус проекта |

## Быстрый старт

```bash
uv venv --python 3.12 .venv
source .venv/bin/activate
uv pip install -e ".[dev]"
pre-commit install
```

## Команды

```bash
make format   # Форматирование (ruff format + fix)
make lint     # Проверка (ruff + mypy)
make test     # Тесты
make check    # Полная проверка: lint + test
```

---

## Правила внесения изменений

### Перед коммитом

1. **`make lint`** — код должен проходить проверку
2. **`make test`** — тесты должны проходить
3. **Проверь на over-engineering:**
   - Нет лишних абстракций?
   - Нет дублирования логики?
   - Нет "мёртвого" кода?
   - Можно ли сделать проще?
4. **Удали неиспользуемый код** — не комментируй, удаляй

### Чеклист для PR

- [ ] `make check` проходит
- [ ] Нет дублирования кода
- [ ] Функции < 50 строк, файлы < 300 строк
- [ ] Публичные API имеют docstrings и type hints
- [ ] Обновлён `docs/status.md` если изменения значимые

---

## Правила обновления документации

### CLAUDE.md (этот файл)

**Когда обновлять:**
- Появился новый важный паттерн для работы с AI
- Изменились команды или workflows
- Обнаружены типичные ошибки агентов

**Как:** добавляй краткие правила, детали — в отдельные документы.

### conventions/PROJECT_GUIDE.md

**Когда обновлять:**
- Изменилась архитектура проекта
- Появились новые практики разработки
- Изменились правила конфигурации


### docs/status.md

**Когда обновлять:**
- После каждого значимого изменения
- При смене приоритетов

**Формат:** кратко и понятно, чтобы за 60 сек понять состояние проекта.
